.tabbable
  %ul.nav.nav-tabs
    %li.active
      %a{:href => "#links_tos_edit", 'data-toggle' => "tab"}
        Links To
    %li
      %a{:href => "#links_ins_edit", 'data-toggle' => "tab"}
        Links In
  .tab-content
    #links_tos_edit.tab-pane.active
      %table.table-striped.table-condensed.table
        %tr
          %th No Link
          %th + 
          %th = 
          %th - 
          %th Title
        - @links_to.each do |link|
          -link_id = link.new_record? ? "#{rand(Time.now.to_i)}#{Time.now.to_i}" : link.id
          %tr{:id => "link_#{link_id}", :class=>"link_tos"} 
            %td
              = radio_button link_id, :value, '_destroy', {:checked => link.new_record? ? true : false, :class=>"submitter #{link_id}", :disabled => (@user.present? ? false : true)}
            %td
              = radio_button link_id, :value, 1, {:checked => (link.value==1 && link.persisted?) ? true : false, :class=>"submitter #{link_id}", :disabled => (@user.present? ? false : true)}
            %td
              = radio_button link_id, :value, 0, {:checked => (link.value==0 && link.persisted?) ? true : false, :class=>"submitter #{link_id}", :disabled => (@user.present? ? false : true)}
            %td
              = radio_button link_id, :value, -1, {:checked => (link.value==-1 && link.persisted?) ? true : false, :class=>"submitter #{link_id}", :disabled => (@user.present? ? false : true)}
            %td
              = hidden_field link_id, :node_from, {:value=>link.node_from_id, :class=>"node_from #{link_id}"}
              = hidden_field link_id, :node_to, {:value=>link.node_to_id, :class=>"node_to #{link_id}"}
              = link.node_to.title
    #links_ins_edit.tab-pane
      %table.table-striped.table-condensed.table
        %tr
          %th No Link
          %th + 
          %th = 
          %th - 
          %th Title
        - @links_in.each do |link|
          -link_id = link.new_record? ? "#{rand(Time.now.to_i)}#{Time.now.to_i}" : link.id
          %tr{:id => "link_#{link_id}", :class=>"link_ins"} 
            %td
              = radio_button link_id, :value, '_destroy', {:checked => link.new_record? ? true : false, :class=>"submitter #{link_id}", :disabled => (@user.present? ? false : true)}
            %td
              = radio_button link_id, :value, 1, {:checked => (link.value==1 && link.persisted?) ? true : false, :class=>"submitter #{link_id}", :disabled => (@user.present? ? false : true)}
            %td
              = radio_button link_id, :value, 0, {:checked => (link.value==0 && link.persisted?) ? true : false, :class=>"submitter #{link_id}", :disabled => (@user.present? ? false : true)}
            %td
              = radio_button link_id, :value, -1, {:checked => (link.value==-1 && link.persisted?) ? true : false, :class=>"submitter #{link_id}", :disabled => (@user.present? ? false : true)}
            %td
              = hidden_field link_id, :node_from, {:value=>link.node_from_id, :class=>"node_from #{link_id}"}
              = hidden_field link_id, :node_to, {:value=>link.node_to_id, :class=>"node_to #{link_id}"}
              = link.node_from.title
