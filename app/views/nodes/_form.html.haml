= form_for @node do |f|
  .span8
    -if @node.errors.any?
      #error_explanation
        %h2= "#{pluralize(@node.errors.count, "error")} prohibited this node from being saved:"
        %ul
          - @node.errors.full_messages.each do |msg|
            %li= msg

    .field
      = f.label :title
      = f.text_field :title
    .field
      = f.label :text
      = f.text_area :text
    .actions
      = f.submit 'Save'
  .span4
    %ul{:class => "tabs", 'data-tabs'=>"tabs"}

      %li.active
        %a{:href =>"#links_to_edit"}
          Links To
          %span
      %li
        %a{:href => "#links_in_edit"}
          Links In
          %span
    .tab-content
      #links_to_edit.active.checkboxes
        %table.bordered-table.zebra-striped.condensed
          %tr
            %th Supports
            %th Opposes
            %th Title
          -@nodes.each do |node|
            - index = 0
            %tr
              = f.fields_for :link_to, :child_index => index do |link|
                %td
                  =link.radio_button :value, 1
                %td
                  =link.radio_button :value, 0
                %td
                  = node.title
                  =link.text_field :node_to, {:value => node.id} 
            - index+=1       
           
        // so something like get the links index with a switch for form or not and whether links index or related to another node
        // load on form load through a partial  
      #links_in_edit.checkboxes
        %table.bordered-table.zebra-striped.condensed
          %tr
            %th Supported by
            %th Opposed by
            %th Title
          -@nodes.each do |node|
            %tr
              %td
              %td
              %td= node.title

